openapi: 3.0.2
info:
  title: Subscription Service
  version: "3.0"
servers:
  - url: https://dev.abdm.gov.in
    description: Sandbox Server URL
  - url: https://apis.abdm.gov.in
    description: Production Server URL
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
    apikeyAuth:
      type: http
      scheme: apikey
    noauthAuth:
      type: http
      scheme: noauth
    basicAuth:
      type: http
      scheme: basic
  
paths:
  /api/hiecm/subscription-requests/v3/init:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 1
      summary: >-
        This API will be invoked by the HIU/patient/user to initiate
        subscription request.
      description: " This API endpoint is designed to be invoked by Health Information Users (HIUs), patients, or users through the Personal Health Record (PHR) application to initiate a subscription request. By using this API, individuals can start the process of subscribing to specific health information services or updates. This functionality is essential for enabling users to manage their health data subscriptions effectively, ensuring they receive timely and relevant health information."
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended
    
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - subscription
              properties:
                subscription:
                  type: object
                  required:
                    - purpose
                    - patient
                    - hiu
                    - hips
                    - categories
                    - period
                  properties:
                    purpose:
                      type: object
                      nullable: false
                      required:
                        - text
                        - code
                        - refUri
                      properties:
                        text:
                          type: string
                          nullable: false
                          enum:
                            - Care Management
                            - Break the Glass
                            - Public Health
                            - Healthcare Payment
                            - Disease Specific Healthcare Research
                            - Self Requested
                          example: Care Management
                        code:
                          type: string
                          nullable: false
                          enum:
                            - CAREMGT
                            - BTG
                            - PUBHLTH
                            - HPAYMT
                            - DSRCH
                            - PATRQT
                          example: CAREMGT
                        refUri:
                          type: string
                          format: uri
                          nullable: false
                          example: https://abc.def.in
                          description: The reference URL.Allows alpha numeric character and special characters like  "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                    patient:
                      type: object
                      nullable: false
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          nullable: false
                          example: radhikha@sbx
                          description: >-
                            The abha address of the patient. Must start with
                            Alphanumeric . and  _  in the middle and must be
                            ending with @abdm or @sbx. Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                    hiu:
                      type: object
                      nullable: false
                      required:
                        - id
                      properties:
                        id:
                          type: string
                          nullable: false
                          example: INDIA_HIU
                          description: >-
                            The service ID of the health information user. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                        name:
                          type: string
                          nullable: true
                          example: INDIA HIU
                          description: >-
                            The name of the health information user. Allows
                            alphanumeric characters and special characters like
                            "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                        type:
                          type: string
                          nullable: true
                          example: HIU
                          description: >-
                            The type of the health information user. Allows
                            alphanumeric characters and special characters like
                            "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                    hips:
                      type: array
                      items:
                        type: object
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            nullable: false
                            example: INDIA_HIP
                            description: >-
                              The service ID of the health information provider.
                              Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                          name:
                            type: string
                            nullable: true
                            example: INDIA HIP
                            description: >-
                              The name of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                          type:
                            type: string
                            nullable: true
                            example: HIP
                            description: >-
                              The type of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                    categories:
                      nullable: false
                      type: array
                      items:
                        enum:
                          - LINK
                          - DATA
                        example: LINK
                        description: >-
                          The subscription category. Should be either LINK or
                          DATA
                    period:
                      type: object
                      nullable: false
                      description: >-
                        The date range between when the subscription will be
                        active
                      required:
                        - from
                        - to
                      properties:
                        from:
                          type: string
                          format: iso-date-time
                          nullable: false
                          example: "2024-05-09T10:34:00.389Z"
                          description: UTC date time in ISO format. Allows alpha numeric character and special characters like "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                        to:
                          type: string
                          format: iso-date-time
                          nullable: false
                          example: "2024-05-09T10:34:00.389Z"
                          description: UTC date time in ISO format.Allows alpha numeric character and special characters like "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
      responses:
        "202":
          description: Accepted
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-9999: "
                      message:
                        type: string
                        example: Patient should not be null or empty
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  <callback_url>/api/v3/hiu/hiecm/subscription-requests/on-init:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 2
      summary: This is a callback api for /api/hiecm/subscription-requests/v3/init.
      description: >-
        This API endpoint serves as a callback for the
        /api/hiecm/subscription-requests/v3/init API. It is used to handle the
        response from the subscription request initiation process. By invoking
        this API, the Health Information User (HIU) can receive and process the
        outcome of the subscription request, ensuring that the system accurately
        reflects the status and actions taken.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-HIU-ID
          in: header
          required: true
          schema:
            type: string
          example: IN2810014366
          description: Identifier of the health information user to which the request was intended
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              description: "In the request body, either ‘subscriptionRequest’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario,subscriptionRequest is mandatory and error is optional </li> <li>Incase of failure scenario,error is mandatory and subscriptionRequest is optional</li> <li>response is mandatory object in both the cases</li> </ol>"
              required:
                - subscriptionRequest
                - response
              properties:
                subscriptionRequest:
                  type: object
                  properties:
                    id:
                      type: string
                      format: uuid
                      nullable: true
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: Random generated uniqueid. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                error:
                  type: object
                  nullable: true
                  description: Incase of success, error object is optional
                  required:
                    - code
                    - message
                  properties:
                    code:
                      type: string
                      nullable: false
                      example: ABDM-1001
                      description: The ABDM error code
                    message:
                      type: string
                      nullable: false
                      example: error message
                      description: The appropriate error message
                response:
                  type: object
                  required:
                    - requestId
                  properties:
                    requestId:
                      type: string
                      format: uuid
                      nullable: false
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: Request id that was passed. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1031: "
                      message:
                        type: string
                        example: Invalid request
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  <callback_url>/api/v3/hiu/subscription-requests/hiu/notify:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 3
      summary: >-
        This is a callback api when a subscription request is approved or
        denied.
      description: >-
        This API endpoint serves as a callback for when a subscription request
        is approved or denied. By invoking this API, the Health Information User
        (HIU) is notified about the outcome of their subscription request,
        whether it has been approved or denied. This functionality is essential
        for maintaining transparency and ensuring that the HIU is informed about
        the status of their subscription requests.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-HIU-ID
          in: header
          required: true
          schema:
            type: string
          example: IN2810014366
          description: Identifier of the health information user to which the request was intended
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - notification
              properties:
                notification:
                  type: object
                  required:
                    - subscriptionRequestId
                    - reason
                    - status
                    - subscription
                  properties:
                    subscriptionRequestId:
                      type: string
                      format: uuid
                      nullable: true
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: subscriptionRequestId .Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                    reason:
                      type: string
                      nullable: true
                      example: reason
                    status:
                      type: string
                      nullable: false
                      enum:
                        - GRANTED
                        - DENIED
                      example: GRANTED
                    subscription:
                      type: object
                      nullable: true
                      required: null
                      properties:
                        id:
                          type: string
                          format: uuid
                          nullable: false
                          example: f29f0e59-8388-4698-9fe6-05db67aeac46
                        patient:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: radhikha@sbx
                              description: >-
                                The abha address of the patient. Must start with
                                Alphanumeric . and  _  in the middle and must be
                                ending with @abdm or @sbx.Allows alpha numeric character and special characters like
                                 ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                        hiu:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: INDIA_HIU
                              description: >-
                                The service ID of the health information user.
                                Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                            name:
                              type: string
                              nullable: true
                              example: INDIA HIU
                              description: >-
                                The name of the health information user. Allows
                                alpha numeric and special characters like
                                ^[a-zA-Z]+[A-Za-z0-9_\\-@,().\\s\\xa0:/]+
                            type:
                              type: string
                              nullable: true
                              example: HIU
                              description: >-
                                The type of the health information user.  Allows
                                alpha numeric and special characters like ^[a-zA-Z0-9_\\-@,. \":/]{0,255}$
                        sources:
                          type: array
                          items:
                            type: object
                            required:
                              - hiTypes
                              - purpose
                              - hip
                              - categories
                              - period
                            properties:
                              hiTypes:
                                type: array
                                items:
                                  type: string
                                  enum:
                                    - Prescription
                                    - DiagnosticReport
                                    - OPConsultation
                                    - DischargeSummary
                                    - ImmunizationRecord
                                    - HealthDocumentRecord
                                    - WellnessRecord
                                    - Invoice
                                  nullable: false
                                  example: "Prescription"
                              purpose:
                                type: object
                                nullable: false
                                required:
                                  - text
                                  - code
                                  - refUri
                                properties:
                                  text:
                                    type: string
                                    nullable: false
                                    enum:
                                      - Care Management
                                      - Break the Glass
                                      - Public Health
                                      - Healthcare Payment
                                      - Disease Specific Healthcare Research
                                      - Self Requested
                                    example: Care Management
                                  code:
                                    type: string
                                    nullable: false
                                    enum:
                                      - CAREMGT
                                      - BTG
                                      - PUBHLTH
                                      - HPAYMT
                                      - DSRCH
                                      - PATRQT
                                    example: CAREMGT
                                  refUri:
                                    type: string
                                    format: uri
                                    nullable: false
                                    example: https://abc.def.in
                                    description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                              hip:
                                type: object
                                nullable: false
                                required:
                                  - id
                                  - name
                                properties:
                                  id:
                                    type: string
                                    nullable: false
                                    example: INDIA_HIP
                                    description: >-
                                      The service ID of the health information
                                      provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                                  name:
                                    type: string
                                    nullable: true
                                    example: INDIA HIP
                                    description: >-
                                      The name of the health information
                                            provider.  Allows alpha numeric and special characters like ^[a-zA-Z]+[A-Za-z0-9_\\-@,().\\s\\xa0:/]+
                                  type:
                                    type: string
                                    nullable: true
                                    example: HIP
                                    description: >-
                                      The type of the health information
                                      provider. Allows alpha numeric and special characters like ^[a-zA-Z0-9_\\-@,. \":/]{0,255}$
                              categories:
                                type: array
                                items:
                                  type: string
                                  enum:
                                    - LINK
                                    - DATA
                                  nullable: false
                                  example: LINK
                                  description: >-
                                    The subscription category. Should be either
                                    LINK or DATA
                              period:
                                type: object
                                nullable: false
                                description: >-
                                  The date range between when the subscription
                                  will be active
                                required:
                                  - from
                                  - to
                                properties:
                                  from:
                                    type: string
                                    format: iso-date-time
                                    nullable: false
                                    example: "2024-05-09T10:34:00.389Z"
                                    description: UTC date time in ISO format. Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                                  to:
                                    type: string
                                    format: iso-date-time
                                    nullable: false
                                    example: "2024-05-09T10:34:00.389Z"
                                    description: UTC date time in ISO format.Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                              status:
                                type: string
                                nullable: true
                                example: SUCCESS
                                description: The status of the subscription approval. Allows alpha numeric character and special characters like ^[a-zA-Z0-9_\-@,. ":]{0,255}$
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1031: "
                      message:
                        type: string
                        example: Invalid request
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/hiu/on-notify:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 4
      summary: >-
        This API will be invoked by the HIU to respond to
        /subscription-requests/hiu/notify.
      description: >-
        This API endpoint is designed to be invoked by the Health Information
        User (HIU) to respond to notifications received from the
        /subscription-requests/hiu/notify API. By using this API, the HIU can
        acknowledge and process the subscription request notifications, ensuring
        that the system accurately reflects the status and actions taken. This
        functionality is essential for maintaining the integrity and
        synchronization of subscription requests, supporting efficient and
        transparent health information exchange within the healthcare ecosystem.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              description: "In the request body, either ‘acknowledgement’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario,acknowledgement is mandatory and error is optional</li> <li>Incase of failure scenario,error is mandatory and acknowledgement is optional<li>response is mandatory object in both the cases</li> </ol>"
              required:
                - acknowledgement
                - response
              properties:
                acknowledgement:
                  type: object
                  nullable: false
                  required:
                    - status
                    - subscriptionRequestId
                  properties:
                    status:
                      type: string
                      nullable: false
                      example: OK
                      description: >-
                        The status of the subscription request. Allows
                        alphanumeric characters and special characters like
                        "^[a-zA-Z0-9_\\-@,. \":]{0,255}$":
                    subscriptionRequestId:
                      type: string
                      nullable: true
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: >-
                        The subscription request id. This should be from the
                        subscription request. Allows alphanumeric characters and 
                        special characters like "^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$"
                error:
                  type: object
                  nullable: true
                  required:
                    - code
                    - message
                  properties:
                    code:
                      type: string
                      nullable: false
                      example: ABDM-1001
                      description: The ABDM error code
                    message:
                      type: string
                      nullable: false
                      example: error message
                      description: The appropriate error message
                response:
                  type: object
                  nullable: false
                  properties:
                    requestId:
                      type: string
                      format: uuid
                      nullable: false
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description:
                        Request id that was passed.  Allows alphanumeric characters and
                        special characters like "^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}"
      responses:
        "202":
          description: Accepted
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: ABDM-1015
                      message:
                        type: string
                        example: Invalid Response
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  <callback_url>/api/v3/hiu/subscription/notify:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 5
      summary: >-
        This is a callback api to notify the subscribed HIU when a care context
        is linked or updated for a patient.
      description: >-
        This API endpoint serves as a callback to notify the subscribed Health
        Information User (HIU) when a care context is linked or updated for a
        patient. By invoking this API, the HIU is informed about any changes or
        additions to the patient’s care context, ensuring that they have the
        most current and accurate health information. This functionality is
        essential for maintaining the integrity and synchronization of patient
        health records, supporting efficient and transparent health information
        exchange within the healthcare ecosystem.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-HIU-ID
          in: header
          required: true
          schema:
            type: string
          example: IN2810014366
          description: Identifier of the health information user to which the request was intended
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - event
              properties:
                event:
                  type: object
                  nullable: false
                  required:
                    - id
                    - published
                    - category
                    - subscriptionId
                    - content
                  properties:
                    id:
                      type: string
                      format: uuid
                      nullable: false
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: the event Id .Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                    published:
                      type: timestamp
                      nullable: false
                      example: "2024-09-10T04:27:47.696Z"
                      description: UTC. Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                    category:
                      type: string
                      nullable: false
                      enum:
                        - LINK
                        - DATA
                      example: LINK
                    subscriptionId:
                      type: string
                      nullable: false
                      example: 5dd76bb8-0eaf-4952-9db4-4c6fe844c257
                    content:
                      type: object
                      nullable: false
                      required:
                        - patient
                        - hip
                        - contexts
                      properties:
                        patient:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: radhikha@sbx
                              description: >-
                                The abha address of the patient. Must start with
                                Alphanumeric . and  _  in the middle and must be
                                ending with @abdm or @sbx and Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                        hip:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: INDIA_HIP
                              description: service Id. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                        contexts:
                          type: array
                          items:
                            type: object
                            required:
                              - careContexts
                              - hiType
                            properties:
                              careContexts:
                                type: array
                                items:
                                  type: object
                                  required:
                                    - patientReference
                                    - careContextReference
                                  properties:
                                    patientReference:
                                      type: string
                                      nullable: false
                                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                                      description:
                                        "A patient identifier with which patient is registered in the facility/hospital like abhaAddress @sbx.Allows alpha numeric and special characters like ^[a-zA-Z0-9_\\-@,().\/: {0,255}$"
                                    careContextReference:
                                      type: string
                                      nullable: false
                                      example: 5dd76bb8-0eaf-4952-9db4-4c6fe844c257
                                      description:
                                        "An identifier of patient's care context.Allows
                                        alpha numeric and special characters like  ^[a-zA-Z0-9_\\-@,().\"/:| ]{0,255}$"
                              hiType:
                                type: string
                                enum:
                                  - Prescription
                                  - ImmunizationRecord
                                  - DischargeSummary
                                  - WellnessRecord
                                  - OPConsultation
                                  - DiagnosticReports
                                  - HealthDocumentRecord
                                  - Invoice
                                nullable: false
                                example: HealthDocumentRecord
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1031: "
                      message:
                        type: string
                        example: Invalid request
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/hiu/care-context/on-notify:
    post:
      tags:
        - subscription-hiu
      operationId: abdm-subscription 6
      summary: >-
        This API will be invoked by the HIU to respond to
        /api/v3/hiu/subscription/notify.
      description: >-
        This API endpoint is designed to be invoked by the Health Information
        User (HIU) to respond to notifications received from the
        /api/v3/hiu/subscription/notify API. By using this API, the HIU can
        acknowledge and process notifications related to care context
        subscriptions, ensuring that the system accurately reflects the status
        and actions taken. This functionality is essential for maintaining the
        integrity and synchronization of care context subscription requests,
        supporting efficient and transparent health information exchange within
        the healthcare ecosystem.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              description: "In the request body, either ‘acknowledgement’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario,acknowledgement is mandatory and error is optional</li> <li>Incase of failure scenario,error is mandatory and acknowledgement is optional<li>response is mandatory object in both the cases</li> </ol>"
              required:
                - acknowledgement
                - response
              properties:
                acknowledgement:
                  type: object
                  nullable: false
                  required:
                    - status
                    - eventId
                  properties:
                    status:
                      type: string
                      nullable: false
                      example: OK
                      description: >-
                        The status of the subscription approval. Allows
                        alphanumeric characters and special characters like
                        "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                    eventId:
                      type: string
                      nullable: true
                      example: 3c2f0e59-8388-4698-9fe6-05db67aeac46
                      description: Must be a valid UUID. Allows
                        alphanumeric characters and special characters like
                        "^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$"
                error:
                  type: object
                  nullable: true
                  required:
                    - code
                    - message
                  properties:
                    code:
                      type: string
                      nullable: false
                      example: ABDM-1001
                      description: The ABDM error code
                    message:
                      type: string
                      nullable: false
                      example: error message
                      description: The appropriate error message
                response:
                  type: object
                  nullable: false
                  required:
                    - requestId
                  properties:
                    requestId:
                      type: string
                      format: uuid
                      nullable: false
                      example: f29f0e59-8388-4698-9fe6-05db67aeac46
                      description: Request id that was passed. Allows
                        alphanumeric characters and special characters like
                        "^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$"
      responses:
        "202":
          description: Accepted
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: ABDM-1015
                      message:
                        type: string
                        example: Invalid Response
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/requests:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 1
      summary: >-
        This API will be invoked by the patient/user from PHR application to
        fetch his/her subscription requests details.
      description: >-
        This API endpoint is designed to be invoked by the patient or user
        through the Personal Health Record (PHR) application to fetch details of
        their subscription requests. By using this API, patients can retrieve
        comprehensive information about all their subscription requests,
        including the status and specifics of each request. This functionality
        is essential for maintaining transparency and enabling patients to
        manage their subscriptions effectively. The API supports secure and
        efficient access to subscription data, enhancing the overall user
        experience within the healthcare ecosystem.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: limit
          in: query
          required: false
          description: How many items to return at one time
          schema:
            type: integer
            format: integer
            minimum: 1
            maximum: 100
            example: 5
        - name: offset
          in: query
          required: false
          description: How many items out of line
          schema:
            type: integer
            format: integer
            minimum: 1
            maximum: 100
            example: 5
        - name: status
          in: query
          required: false
          description: Query string parameter restricts the data returned from your request
          schema:
            type: string
            default: ALL
            enum:
              - ALL
              - REQUESTED
              - DENIED
              - GRANTED
              - REVOKED
              - EXPIRED
            example: ALL
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - limit
                  - size
                  - offset
                  - requests
                properties:
                  size:
                    type: integer
                    format: integer
                    nullable: true
                    example: 0
                  limit:
                    type: integer
                    format: integer
                    nullable: true
                    example: 5
                  offset:
                    type: integer
                    format: integer
                    nullable: true
                    example: 5
                  requests:
                    type: array
                    items:
                      type: object
                      required:
                        - requestId
                      properties:
                        subscriptionId:
                          type: string
                          format: uuid
                          nullable: false
                          minimum: 36
                          maximum: 50
                          example: f29f0e59-8388-4698-9fe6-05db67aeac46
                        requestId:
                          type: string
                          format: uuid
                          nullable: false
                          minimum: 36
                          maximum: 50
                          example: f29f0e59-8388-4698-9fe6-05db67aeac46
                        createdAt:
                          type: string
                          format: date time
                          nullable: false
                          example: "2024-05-09T10:34:00.389Z"
                        lastUpdated:
                          type: string
                          format: date time
                          nullable: false
                          example: "2024-05-09T10:34:00.389Z"
                        purpose:
                          type: object
                          nullable: false
                          required:
                            - text
                            - code
                            - refUri
                          properties:
                            text:
                              type: string
                              nullable: false
                              enum:
                                - Care Management
                                - Break the Glass
                                - Public Health
                                - Healthcare Payment
                                - Disease Specific Healthcare Research
                                - Self Requested
                              example: Care Management
                            code:
                              type: string
                              nullable: false
                              enum:
                                - CAREMGT
                                - BTG
                                - PUBHLTH
                                - HPAYMT
                                - DSRCH
                                - PATRQT
                              example: CAREMGT
                            refUri:
                              type: string
                              format: uri
                              nullable: false
                              example: https://abc.def.in
                              description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                        patient:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: radhikha@sbx
                              description: >-
                                The abha address of the patient. Must start with
                                Alphanumeric . and  _  in the middle and must be
                                ending with @abdm or @sbx. Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                        hiu:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: INDIA_HIU
                              description: >-
                                The service ID of the health information user.
                                Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                            name:
                              type: string
                              nullable: true
                              example: INDIA HIU
                              description: >-
                                The name of the health information user. Allows
                                alphanumeric characters and special characters
                                like"^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                            type:
                              type: string
                              nullable: true
                              example: HIU
                              description: >-
                                The type of the health information user. Allows
                                alphanumeric characters and special characters
                                like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                        hips:
                          type: array
                          items:
                            type: object
                            required:
                              - id
                            properties:
                              id:
                                type: string
                                nullable: false
                                example: INDIA_HIP
                                description: >-
                                  The service ID of the health information
                                  provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                              name:
                                type: string
                                nullable: true
                                example: INDIA HIP
                                description: >-
                                  The name of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                              type:
                                type: string
                                nullable: true
                                example: HIP
                                description: >-
                                  The type of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                        categories:
                          type: array
                          items:
                            type: string
                            enum:
                              - LINK
                              - DATA
                            nullable: false
                            example: LINK
                        period:
                          type: object
                          nullable: false
                          required:
                            - from
                            - to
                          properties:
                            from:
                              type: string
                              format: iso-date-time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                              description: UTC date time in ISO format.Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                            to:
                              type: string
                              format: iso-date-time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                              description: UTC date time in ISO format.Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                        status:
                          type: string
                          enum:
                            - REQUESTED
                            - GRANTED
                            - DENIED
                            - EXPIRED
                            - REVOKED
                          nullable: false
                          example: GRANTED
                        requestType:
                          type: string
                          enum:
                            - HEALTH_LOCKER
                            - HIU
                            - HIP
                          nullable: false
                          example: HEALTH_LOCKER
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/{request-id}/approve:
    post:
      tags:
        - subscription-phr
      operationId: subscription-phr 2
      summary: >-
        This API will be invoked by the patient/user from PHR application to
        approve subscription request.
      description: " This API endpoint is designed to be invoked by the patient or user through the Personal Health Record (PHR) application to approve a subscription request. By using this API, individuals can grant permission for the requested subscription, ensuring that they receive the desired health information services or updates. This functionality is essential for enabling users to manage their health data subscriptions effectively, ensuring they have control over the information they receive. The API supports secure and efficient approval of subscription requests, enhancing the overall user experience within the healthcare ecosystem."
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: request-id
          in: path
          required: true
          schema:
            type: string
          description: The subscription request id
          
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - isApplicableForAllHIPs
                - includedSources
                - excludedSources
              properties:
                isApplicableForAllHIPs:
                  type: boolean
                  nullable: false
                  example: false
                  description: >-
                    A boolean value to denote if the policy is applicable to all
                    the HIPs or only the specified HIP
                includedSources:
                  type: array
                  items:
                    type: object
                    required:
                      - hiTypes
                      - purpose
                      - hip
                      - categories
                      - period
                    properties:
                      hiTypes:
                        type: array
                        items:
                          type: string
                          enum:
                            - Prescription
                            - DiagnosticReport
                            - OPConsultation
                            - DischargeSummary
                            - ImmunizationRecord
                            - HealthDocumentRecord
                            - WellnessRecord
                            - Invoice
                          nullable: false
                          example: "Prescription"
                      purpose:
                        type: object
                        nullable: false
                        required:
                          - text
                          - code
                          - refUri
                        properties:
                          text:
                            type: string
                            nullable: false
                            enum:
                              - Care Management
                              - Break the Glass
                              - Public Health
                              - Healthcare Payment
                              - Disease Specific Healthcare Research
                              - Self Requested
                            example: Care Management
                          code:
                            type: string
                            nullable: false
                            enum:
                              - CAREMGT
                              - BTG
                              - PUBHLTH
                              - HPAYMT
                              - DSRCH
                              - PATRQT
                            example: CAREMGT
                          refUri:
                            type: string
                            format: uri
                            nullable: false
                            example: https://abc.def.in
                            description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                      hip:
                        type: object
                        nullable: false
                        required:
                          - id
                          - name
                        properties:
                          id:
                            type: string
                            nullable: false
                            example: INDIA_HIP
                            description: >-
                              The service ID of the health information provider.
                              Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                          name:
                            type: string
                            nullable: true
                            example: INDIA HIP
                            description: >-
                              The name of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                          type:
                            type: string
                            nullable: true
                            example: HIP
                            description: >-
                              The type of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                      categories:
                        type: array
                        items:
                          type: string
                          enum:
                            - LINK
                            - DATA
                          nullable: false
                          example: LINK
                          description: >-
                            The subscription category. Should be either LINK or
                            DATA
                      period:
                        type: object
                        nullable: false
                        description: >-
                          The date range between when the subscription will be
                          active
                        required:
                          - from
                          - to
                        properties:
                          from:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format. Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                          to:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format.Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                excludedSources:
                  type: array
                  items:
                    type: object
                    required:
                      - hiTypes
                      - purpose
                      - hip
                      - categories
                      - period
                    properties:
                      hiTypes:
                        type: array
                        items:
                          type: string
                          enum:
                            - Prescription
                            - DiagnosticReport
                            - OPConsultation
                            - DischargeSummary
                            - ImmunizationRecord
                            - HealthDocumentRecord
                            - WellnessRecord
                            - Invoice
                          nullable: false
                          example: "Prescription"
                      purpose:
                        type: object
                        nullable: false
                        required:
                          - text
                          - code
                          - refUri
                        properties:
                          text:
                            type: string
                            nullable: false
                            enum:
                              - Care Management
                              - Break the Glass
                              - Public Health
                              - Healthcare Payment
                              - Disease Specific Healthcare Research
                              - Self Requested
                            example: Care Management
                          code:
                            type: string
                            nullable: false
                            enum:
                              - CAREMGT
                              - BTG
                              - PUBHLTH
                              - HPAYMT
                              - DSRCH
                              - PATRQT
                            example: CAREMGT
                          refUri:
                            type: string
                            format: uri
                            nullable: false
                            example: https://abc.def.in
                            description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                      hip:
                        type: object
                        nullable: false
                        required:
                          - id
                          - name
                        properties:
                          id:
                            type: string
                            nullable: false
                            example: INDIA_HIP
                            description: >-
                              The service ID of the health information provider.
                              Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                          name:
                            type: string
                            nullable: true
                            example: INDIA HIP
                            description: >-
                              The name of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                          type:
                            type: string
                            nullable: true
                            example: HIP
                            description: >-
                              The type of the health information provider.
                              Allows alphanumeric characters and special
                              characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                      categories:
                        type: array
                        items:
                          type: string
                          enum:
                            - LINK
                            - DATA
                          nullable: false
                          example: LINK
                          description: >-
                            The subscription category. Should be either LINK or
                            DATA
                      period:
                        type: object
                        nullable: false
                        description: >-
                          The date range between when the subscription will be
                          active
                        required:
                          - from
                          - to
                        properties:
                          from:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format.Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                          to:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format.Allows alpha numeric character and special characters like  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
      responses:
        "202":
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                properties:
                  subscriptionId:
                    type: string
                    nullable: false
                    example: f29f0e59-8388-4698-9fe6-05db67aeac46
                  message:
                    type: string
                    nullable: false
                    example: Successfully approved Subscription request
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-9999: "
                      message:
                        type: string
                        example: To date should be present or future date
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/{request-id}/deny:
    post:
      tags:
        - subscription-phr
      operationId: subscription-phr 3
      summary: >-
        This API will be invoked by the patient/user from PHR application to
        deny subscription request.
      description: >-
        This API endpoint is designed to be invoked by the patient or user
        through the Personal Health Record (PHR) application to deny a
        subscription request. By using this API, individuals can reject the
        requested subscription, ensuring that they do not receive unwanted
        health information services or updates. This functionality is essential
        for enabling users to manage their health data subscriptions
        effectively, maintaining control over the information they receive. The
        API supports secure and efficient denial of subscription requests,
        enhancing the overall user experience within the healthcare ecosystem.
      
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: request-id
          in: path
          required: true
          schema:
            type: string
          description: The subscription request id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - reason
              properties:
                reason:
                  type: string
                  nullable: false
                  example: Subscription denied.
                  description: >-
                    Reason for denying subscription request. Allows alpha numeric character and special characters like "^[A-Za-z .,]{1,50}$"
      responses:
        "202":
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    example: Successfully denied Subscription request
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/patients/{subscription-id}:
    put:
      tags:
        - subscription-phr
      operationId: subscription-phr 6
      summary: This API will be invoked to edit the subscription details.
      description: >-
        This API endpoint is used to edit the details of an existing
        subscription. By invoking this API, users can update the parameters and
        preferences associated with a specific subscription identified by the
        subscription ID.
      
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: subscription-Id
          in: path
          required: true
          schema:
            type: string
          description: The subscription id
      
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - hiuId
                - subscriptionEditAndApprovalRequest
              properties:
                hiuId:
                  type: string
                  nullable: false
                  example: INDIA_HIU
                  description: The service ID of the health information
                    provider Allows alphanumeric characters and special characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                subscriptionEditAndApprovalRequest:
                  type: object
                  nullable: false
                  required:
                    - isApplicableForAllHIPs
                    - includedSources
                    - excludedSources
                  properties:
                    isApplicableForAllHIPs:
                      type: boolean
                      nullable: false
                      example: true
                      description: >-
                        A boolean value to denote if the policy is applicable to
                        all the HIPs or only the specified HIP
                    includedSources:
                      type: array
                      items:
                        type: object
                        required:
                          - hiTypes
                          - purpose
                          - hip
                          - categories
                          - period
                          - status
                        properties:
                          hiTypes:
                            type: array
                            items:
                              type: string
                              enum:
                                - Prescription
                                - DiagnosticReport
                                - OPConsultation
                                - DischargeSummary
                                - ImmunizationRecord
                                - HealthDocumentRecord
                                - WellnessRecord
                                - Invoice
                              nullable: false
                              example: "Prescription"
                          purpose:
                            type: object
                            nullable: false
                            required:
                              - text
                              - code
                              - refUri
                            properties:
                              text:
                                type: string
                                nullable: false
                                enum:
                                  - Care Management
                                  - Break the Glass
                                  - Public Health
                                  - Healthcare Payment
                                  - Disease Specific Healthcare Research
                                  - Self Requested
                                example: Care Management
                              code:
                                type: string
                                nullable: false
                                enum:
                                  - CAREMGT
                                  - BTG
                                  - PUBHLTH
                                  - HPAYMT
                                  - DSRCH
                                  - PATRQT
                                example: CAREMGT
                              refUri:
                                type: string
                                format: uri
                                nullable: false
                                example: https://abc.def.in
                                description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                          hip:
                            type: object
                            nullable: false
                            required:
                              - id
                              - name
                            properties:
                              id:
                                type: string
                                nullable: false
                                example: INDIA_HIP
                                description: >-
                                  The service ID of the health information
                                  provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                              name:
                                type: string
                                nullable: true
                                example: INDIA HIP
                                description: >-
                                  The name of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                              type:
                                type: string
                                nullable: true
                                example: HIP
                                description: >-
                                  The type of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                          categories:
                            type: array
                            items:
                              type: string
                              enum:
                                - LINK
                                - DATA
                              nullable: false
                              example: LINK
                              description: >-
                                The subscription category. Should be either LINK
                                or DATA
                          period:
                            type: object
                            nullable: false
                            description: >-
                              The date range between when the subscription will
                              be active
                            required:
                              - from
                              - to
                            properties:
                              from:
                                type: string
                                format: iso-date-time
                                nullable: false
                                example: "2024-05-09T10:34:00.389Z"
                                description:
                                  UTC date time in ISO format. Allows alpha numeric character and special characters like
                                  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                              to:
                                type: string
                                format: iso-date-time
                                nullable: false
                                example: "2024-05-09T10:34:00.389Z"
                                description:
                                  UTC date time in ISO format. Allows alpha numeric character and special characters like
                                  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                          status:
                            type: string
                            nullable: true
                            example: SUCCESS
                            description: The status of the subscription approval
                    excludedSources:
                      type: array
                      items:
                        type: object
                        required:
                          - hiTypes
                          - purpose
                          - hip
                          - categories
                          - period
                          - status
                        properties:
                          hiTypes:
                            type: array
                            items:
                              type: string
                              enum:
                                - Prescription
                                - DiagnosticReport
                                - OPConsultation
                                - DischargeSummary
                                - ImmunizationRecord
                                - HealthDocumentRecord
                                - WellnessRecord
                                - Invoice
                              nullable: false
                              example: "Prescription"
                          purpose:
                            type: object
                            nullable: false
                            required:
                              - text
                              - code
                              - refUri
                            properties:
                              text:
                                type: string
                                nullable: false
                                enum:
                                  - Care Management
                                  - Break the Glass
                                  - Public Health
                                  - Healthcare Payment
                                  - Disease Specific Healthcare Research
                                  - Self Requested
                                example: Care Management
                              code:
                                type: string
                                nullable: false
                                enum:
                                  - CAREMGT
                                  - BTG
                                  - PUBHLTH
                                  - HPAYMT
                                  - DSRCH
                                  - PATRQT
                                example: CAREMGT
                              refUri:
                                type: string
                                format: uri
                                nullable: false
                                example: https://abc.def.in
                                description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                          hip:
                            type: object
                            nullable: false
                            required:
                              - id
                              - name
                            properties:
                              id:
                                type: string
                                nullable: false
                                example: INDIA_HIP
                                description: >-
                                  The service ID of the health information
                                  provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                              name:
                                type: string
                                nullable: true
                                example: INDIA HIP
                                description: >-
                                  The name of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                              type:
                                type: string
                                nullable: true
                                example: HIP
                                description: >-
                                  The type of the health information provider.
                                  Allows alphanumeric characters and special
                                  characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                          categories:
                            type: array
                            items:
                              type: string
                              enum:
                                - LINK
                                - DATA
                              nullable: false
                              example: LINK
                              description: >-
                                The subscription category. Should be either LINK
                                or DATA
                          period:
                            type: object
                            nullable: false
                            description: >-
                              The date range between when the subscription will
                              be active
                            required:
                              - from
                              - to
                            properties:
                              from:
                                type: string
                                format: iso-date-time
                                nullable: false
                                example: "2024-05-09T10:34:00.389Z"
                                description:
                                  UTC date time in ISO format.Allows alpha numeric character and special characters like
                                  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                              to:
                                type: string
                                format: iso-date-time
                                nullable: false
                                example: "2024-05-09T10:34:00.389Z"
                                description:
                                  UTC date time in ISO format.Allows alpha numeric character and special characters like
                                  "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                          status:
                            type: string
                            nullable: true
                            example: SUCCESS
                            description: The status of the subscription approval
      responses:
        "202":
          description: Accepted
          content:
            application/json:
              schema:
                type: object
                properties:
                  subscriptionId:
                    type: string
                    nullable: false
                    example: f29f0e59-8388-4698-9fe6-05db67aeac46
                  message:
                    type: string
                    nullable: false
                    example: Successfully approved Subscription request
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/enable/{subscription-id}:
    post:
      tags:
        - subscription-phr
      operationId: subscription-phr 7
      summary: This API will be invoked to enable the subscription by subscription id.
      description: >-
        This API endpoint is used to enable an existing subscription identified
        by the subscription ID. By invoking this API, users can activate the
        subscription, ensuring that the associated health information services
        or updates are delivered as requested. This functionality is essential
        for managing subscriptions effectively, allowing users to control the
        activation status of their health data subscriptions. The API supports
        secure and efficient enablement of subscriptions, enhancing the overall
        user experience within the healthcare ecosystem.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: subscription-Id
          in: path
          required: true
          schema:
            type: string
          description: The subscription id

      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    example: "Subscription enabled successfully"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/disable/{subscription-id}:
    post:
      tags:
        - subscription-phr
      operationId: subscription-phr 8
      summary: This API will be invoked to disable the subscription by subscription id.
      description: >-
        This API endpoint is used to disable an existing subscription identified
        by the subscription ID. By invoking this API, users can deactivate the
        subscription, ensuring that the associated health information services
        or updates are no longer delivered.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: subscription-Id
          in: path
          required: true
          schema:
            type: string
          description: The subscription id
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    example: "Subscription disabled successfully"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plains:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/{subscription-id}:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 6
      summary: >-
        This API will be invoked by the patient/user from PHR application to
        fetch his/her subscription details by subscription id.
      description: >-
        This API endpoint is designed to be invoked by the patient or user
        through the Personal Health Record (PHR) application to fetch their
        subscription details using the subscription ID. By using this API,
        individuals can retrieve comprehensive information about a specific
        subscription, including its status, scope, and any associated
        conditions. This functionality is essential for enabling users to manage
        their health data subscriptions effectively, ensuring they have access
        to accurate and up-to-date subscription information.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: subscription-Id
          in: path
          required: true
          schema:
            type: string
          description: The subscription id
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - subscriptionId
                  - purpose
                  - status
                  - dateCreated
                  - dateGranted
                  - patient
                  - requester
                  - includedSources
                properties:
                  subscriptionId:
                    type: string
                    format: uuid
                    nullable: false
                    minimum: 36
                    maximum: 50
                    example: f29f0e59-8388-4698-9fe6-05db67aeac46
                  purpose:
                    type: object
                    nullable: false
                    required:
                      - text
                      - code
                      - refUri
                    properties:
                      text:
                        type: string
                        nullable: false
                        enum:
                          - Care Management
                          - Break the Glass
                          - Public Health
                          - Healthcare Payment
                          - Disease Specific Healthcare Research
                          - Self Requested
                        example: Care Management
                      code:
                        type: string
                        nullable: false
                        enum:
                          - CAREMGT
                          - BTG
                          - PUBHLTH
                          - HPAYMT
                          - DSRCH
                          - PATRQT
                        example: CAREMGT
                      refUri:
                        type: string
                        format: uri
                        nullable: false
                        example: https://abc.def.in
                        description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                  dateCreated:
                    type: string
                    format: iso-date-time
                    nullable: false
                    example: "2021-09-28T12:30:08.573Z"
                  status:
                    type: string
                    enum:
                      - REQUESTED
                      - GRANTED
                      - DENIED
                      - EXPIRED
                      - REVOKED
                    nullable: false
                    example: GRANTED
                  dateGranted:
                    type: string
                    format: iso-date-time
                    nullable: false
                    example: "2021-09-28T12:30:08.573Z"
                  patient:
                    type: object
                    nullable: false
                    required:
                      - id
                    properties:
                      id:
                        type: string
                        nullable: false
                        example: radhikha@sbx
                        description: >-
                          The abha address of the patient. Must start with
                          Alphanumeric . and  _  in the middle and must be
                          ending with @abdm or @sbx
                  requester:
                    type: object
                    nullable: false
                    required:
                      - id
                      - name
                      - type
                    properties:
                      id:
                        type: string
                        nullable: false
                        example: radhikha@sbx
                      name:
                        type: string
                        nullable: false
                        example: ABDM_HIU
                      type:
                        type: string
                        nullable: false
                        example: HIU
                  includedSources:
                    type: array
                    items:
                      type: object
                      required:
                        - hiTypes
                        - purpose
                        - hip
                        - categories
                        - period
                      properties:
                        hip:
                          type: object
                          nullable: false
                          required:
                            - id
                            - name
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: INDIA_HIP
                              description: >-
                                The service ID of the health information
                                provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                            name:
                              type: string
                              nullable: true
                              example: INDIA HIP
                              description: >-
                                The name of the health information provider.
                                Allows alphanumeric characters and special
                                characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                            type:
                              type: string
                              nullable: true
                              example: HIP
                              description: >-
                                The type of the health information provider.
                                Allows alphanumeric characters and special
                                characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                        categories:
                          type: array
                          items:
                            type: string
                            enum:
                              - LINK
                              - DATA
                            nullable: false
                            example: LINK
                            description: >-
                              The subscription category. Should be either LINK
                              or DATA
                        hiTypes:
                          type: array
                          items:
                            type: string
                            enum:
                              - Prescription
                              - DiagnosticReport
                              - OPConsultation
                              - DischargeSummary
                              - ImmunizationRecord
                              - HealthDocumentRecord
                              - WellnessRecord
                              - Invoice
                            nullable: false
                            example: "Prescription"
                        period:
                          type: object
                          nullable: false
                          description: >-
                            The date range between when the subscription will be
                            active
                          required:
                            - from
                            - to
                          properties:
                            from:
                              type: string
                              format: iso-date-time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                              description: UTC date time in ISO format
                            to:
                              type: string
                              format: iso-date-time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                              description: UTC date time in ISO format
                        status:
                          type: string
                          nullable: true
                          example: GRANTED
                          description: The status of the subscription approval
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: ABDM-1015
                      message:
                        type: string
                        example: Invalid Response
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/request/{request-id}:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 5
      summary: >-
        This API will be invoked by the patient/user from PHR application to
        fetch his/her subscription details by subscription request id.
      description: >-
        This API endpoint is designed to be invoked by the patient or user
        through the Personal Health Record (PHR) application to fetch their
        subscription details using the subscription request ID. By using this
        API, individuals can retrieve comprehensive information about a specific
        subscription request, including its status, scope, and any associated
        conditions. This functionality is essential for enabling users to manage
        their health data subscriptions effectively, ensuring they have access
        to accurate and up-to-date subscription information.
      security:
        - bearerAuth: []
      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for track the end to end request transaction
        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds and milliseconds
        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended 
        - name: X-AUTH-TOKEN
          in: header
          required: true
          description: JWT Authentication token which was issued by ABDM after successful validation of username and password
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
            example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
        - name: SubscriptionRequestId
          in: path
          required: true
          schema:
            type: string
          description: The subscription request id
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - id
                  - requestId
                  - subscriptionId
                  - patientId
                  - requesterType
                  - status
                  - details
                  - dateCreated
                  - dateModified
                  - healthIdNumber
                properties:
                  id:
                    type: number
                    format: int64
                    nullable: false
                    example: 1234
                  requestId:
                    type: string
                    format: uuid
                    nullable: false
                    example: ab1f0e59-8388-4698-9fe6-05db67aeac46
                  subscriptionId:
                    type: string
                    format: uuid
                    nullable: false
                    example: c12f0e59-8388-4698-9fe6-05db67aea3c4
                  patientId:
                    type: string
                    nullable: false
                    example: sample@sbx
                    description: abha address of the patient. Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                  requesterType:
                    type: string
                    nullable: false
                    example: phr
                  status:
                    type: string
                    nullable: false
                    enum:
                      - GRANTED
                      - DENIED
                      - REQUESTED
                      - REVOKED
                    example: GRANTED
                  details:
                    type: object
                    required:
                      - subscriptionRequestId
                      - purpose
                      - patient
                      - hiu
                      - hips
                      - categories
                      - period
                    properties:
                      subscriptionRequestId:
                        type: string
                        nullable: false
                        example: "38d8dbfc-9ea6-4f9f-b807-b00d2b885a54"
                      purpose:
                        type: object
                        nullable: false
                        required:
                          - text
                          - code
                          - refUri
                        properties:
                          text:
                            type: string
                            nullable: false
                            enum:
                              - Care Management
                              - Break the Glass
                              - Public Health
                              - Healthcare Payment
                              - Disease Specific Healthcare Research
                              - Self Requested
                            example: Care Management
                          code:
                            type: string
                            nullable: false
                            enum:
                              - CAREMGT
                              - BTG
                              - PUBHLTH
                              - HPAYMT
                              - DSRCH
                              - PATRQT
                            example: CAREMGT
                          refUri:
                            type: string
                            format: uri
                            nullable: false
                            example: https://abc.def.in
                            description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                      patient:
                        type: object
                        nullable: false
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            nullable: false
                            example: radhikha@sbx
                            description: >-
                              The abha address of the patient. Must start with
                              Alphanumeric . and  _  in the middle and must be
                              ending with @abdm or @sbx. Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                      hiu:
                        type: object
                        nullable: false
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            nullable: false
                            example: INDIA_HIU
                            description: >-
                              The service ID of the health information user.
                              Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                          name:
                            type: string
                            nullable: true
                            example: INDIA HIU
                            description: >-
                              The name of the health information user.Allows alpha numeric character and special characters like ^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$
                          type:
                            type: string
                            nullable: true
                            example: HIU
                            description: >-
                              The type of the health information user. Allows
                              alpha numeric and special characters like  "^[a-zA-Z0-9_\\-@,. \":/]{0,255}$"
                      hips:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: INDIA_HIP
                              description: >-
                                The service ID of the health information
                                provider. Allows alpha numeric character and special characters like [A-Z a-z 0-9]+[A-Z a-z 0-9 //_//-]*[A-Z a-z 0-9]$
                            name:
                              type: string
                              nullable: true
                              example: INDIA HIP
                              description: >-
                                The name of the health information provider.
                                Allows alpha numeric and special characters like "^[a-zA-Z]+[A-Za-z0-9_\\-@,().\\s\\xa0:/]+"
                            type:
                              type: string
                              nullable: true
                              example: HIP
                              description: >-
                                The type of the health information provider.
                                Allows alpha numeric and special characters like  "^[a-zA-Z0-9_\\-@,. \":/]{0,255}$"
                      categories:
                        type: array
                        nullable: false
                        items:
                          enum:
                            - LINK
                            - DATA
                          nullable: false
                          example: LINK
                          description: >-
                            The subscription category. Should be either LINK or
                            DATA
                      period:
                        type: object
                        nullable: false
                        description: >-
                          The date range between when the subscription will be
                          active
                        required:
                          - from
                          - to
                        properties:
                          from:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format. Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                          to:
                            type: string
                            format: iso-date-time
                            nullable: false
                            example: "2024-05-09T10:34:00.389Z"
                            description: UTC date time in ISO format.Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                  dateCreated:
                    type: string
                    format: iso-date-time
                    nullable: false
                    example: "2022-10-06T10:10:00.587Z"
                    description: created date. Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                  dateModified:
                    type: string
                    format: iso-date-time
                    nullable: false
                    example: "2022-10-06T10:10:00.587Z"
                    description: modified date.Allows alpha numeric character and special characters like \\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$
                  healthIdNumber:
                    type: string
                    nullable: false
                    example: 91-7507-6821-7770
                    description: abha number of the user.
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/patients/requests:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 9
      summary: >-
        This API will be invoked to get all the consent and subscription
        requests with given filters.
      description: >-
        This API endpoint is used to retrieve all consent and subscription
        requests based on specified filters. By invoking this API, users can
        obtain a comprehensive list of requests that match the given criteria,
        including details about their status, scope, and any associated
        conditions. This functionality is essential for managing and tracking
        consent and subscription requests efficiently, ensuring that users have
        access to accurate and up-to-date information.
      security:
        - bearerAuth: []

      parameters:
      - name: REQUEST-ID
        in: header
        required: true
        schema:
          type: string
        example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
        description: Unique UUID for tracking the end-to-end request transaction

      - name: TIMESTAMP
        in: header
        required: true
        schema:
          type: string
        example: '2022-10-06T15:10:00.587Z'
        description: >-
          Actual time of the request was initiated, ISO 8601 represents date and
          time by starting with the year, followed by the month, the day, the
          hour, the minutes, seconds, and milliseconds

      - name: X-CM-ID
        in: header
        required: true
        schema:
          type: string
        example: sbx
        description: Suffix of the consent manager to which the request was intended 

      - name: X-AUTH-TOKEN
        in: header
        required: true
        description: JWT Authentication token which was issued by ABDM after successful validation of username and password
        schema:
          type: string
          format: bearer
          minimum: 1
          maximum: 100
          example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2

      - name: consentLimit
        in: query
        required: true
        schema:
          type: string
          default: "-1"
        description: The consent limit - to limit records being fetched

      - name: consentOffset
        in: query
        required: true
        schema:
          type: string
          default: "0"
        description: >-
          The consent offset - to skip the records before fetching the first
          record

      - name: subscriptionLimit
        in: query
        required: true
        schema:
          type: string
          default: "-1"
        description: The subscription limit - to limit records being fetched

      - name: subscriptionOffset
        in: query
        required: true
        schema:
          type: string
          default: "0"
        description: >-
          The subscription offset - to skip the records before fetching the
          first record

      - name: status
        in: query
        required: true
        schema:
          type: string
          default: ALL
          enum:
            - ALL
            - REQUESTED
            - DENIED
            - GRANTED
            - REVOKED
            - EXPIRED
          example: ALL
        description: The status of the subscription and consent
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  consents:
                    type: object
                    properties:
                      size:
                        type: integer
                        nullable: false
                        example: 10
                      limit:
                        type: integer
                        nullable: false
                        example: 10
                      offset:
                        type: integer
                        nullable: false
                        example: 0
                      requests:
                        type: array
                        items:
                          type: object
                          nullable: true
                          properties:
                            requestId:
                              type: string
                              nullable: false
                              example: e5ec415f-c098-40f6-a0db-faa162fc5295
                            createdAt:
                              type: string
                              format: date-time
                              nullable: false
                              example: "2021-09-28T12:30:08.573Z"
                            lastUpdated:
                              type: string
                              format: date-time
                              nullable: false
                              example: "2021-09-28T12:30:08.573Z"
                            status:
                              type: string
                              nullable: false
                              enum:
                                - REQUESTED
                                - EXPIRED
                                - DENIED
                                - GRANTED
                                - REVOKED
                              example: GRANTED
                            purpose:
                              type: object
                              nullable: false
                              required:
                                - text
                                - code
                                - refUri
                              properties:
                                text:
                                  type: string
                                  nullable: false
                                  enum:
                                    - Care Management
                                    - Break the Glass
                                    - Public Health
                                    - Healthcare Payment
                                    - Disease Specific Healthcare Research
                                    - Self Requested
                                code:
                                  type: string
                                  nullable: false
                                  enum:
                                    - CAREMGT
                                    - BTG
                                    - PUBHLTH
                                    - HPAYMT
                                    - DSRCH
                                    - PATRQT
                                refUri:
                                  type: string
                                  nullable: false
                                  example: www.abc.com
                                  description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                            patient:
                              type: object
                              nullable: false
                              required:
                                - id
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: abdulkalam@abdm
                                  description: The abha address of the patient
                            hip:
                              type: object
                              nullable: true
                              required:
                                - id
                                - name
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: cowin_hip_01
                                  description: >-
                                    The service ID of the health information
                                    provider. Allows alpha numeric and _ or - in
                                    middle
                                name:
                                  type: string
                                  nullable: true
                                  example: Cowin
                                  description: >-
                                    The name of the health information provider.
                                    Allows alphanumeric characters and special
                                    characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                                type:
                                  type: string
                                  nullable: true
                                  example: HIP
                                  description: >-
                                    The type of the health information provider.
                                    Allows alphanumeric characters and special
                                    characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                            hiu:
                              type: object
                              nullable: false
                              required:
                                - id
                                - name
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: cowin_hiu_01
                                  description: >-
                                    The service ID of the health information
                                    user.  Allows alpha numeric and _ or - in
                                    middle
                                name:
                                  type: string
                                  nullable: true
                                  example: Cowin
                                  description: >-
                                    The name of the health information user.
                                    Allows alphanumeric characters and special
                                    characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                                type:
                                  type: string
                                  nullable: true
                                  example: HIU
                                  description: >-
                                    The type of the health information user.
                                    Allows alphanumeric characters and special characters like "^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                            requester:
                              type: object
                              nullable: false
                              required:
                                - name
                                - identifier
                              properties:
                                name:
                                  type: string
                                  nullable: false
                                  example: abdulkalam@abdm
                                  description: The name of the requester
                                identifier:
                                  type: object
                                  nullable: false
                                  required:
                                    - value
                                    - type
                                    - system
                                  properties:
                                    value:
                                      type: string
                                      nullable: false
                                      example: REG1
                                      description: >-
                                        The type of the identification. Allows
                                        alpha numeric character and special
                                        characters like _\-@,. ":/
                                    type:
                                      type: string
                                      nullable: false
                                      example: MH1001
                                      description: >-
                                        The identification value. Allows alpha
                                        numeric character and special characters
                                        like _\-@,. ":/
                                    system:
                                      type: string
                                      nullable: false
                                      example: https://www.sample.com
                                      description: >-
                                        Allows alpha numeric character and
                                        special characters like _\-@,. ":/
                            hiTypes:
                              type: array
                              items:
                                type: string
                                enum:
                                  - Prescription
                                  - DiagnosticReport
                                  - OPConsultation
                                  - DischargeSummary
                                  - ImmunizationRecord
                                  - HealthDocumentRecord
                                  - WellnessRecord
                                  - Invoice
                                nullable: false
                                example: "Prescription"
                            careContexts:
                              type: array
                              items:
                                type: object
                                nullable: true
                                required:
                                  - patientReference
                                  - careContextReference
                                properties:
                                  patientReference:
                                    type: string
                                    nullable: false
                                    example: batman@tmh
                                    description: >-
                                      A patient identifier with which patient is
                                      registered in the facility/hospital
                                  careContextReference:
                                    type: string
                                    nullable: false
                                    example: Episode1
                                    description: >-
                                      An identifier of patient's care context
                                      created in HIP. A care context is a group
                                      of patient's health data (Not the actual
                                      health data)
                            permission:
                              type: object
                              nullable: false
                              required:
                                - accessMode
                                - dateRange
                                - dataEraseAt
                                - frequency
                              properties:
                                accessMode:
                                  type: string
                                  nullable: false
                                  enum:
                                    - VIEW
                                    - STORE
                                    - STREAM
                                    - QUERY
                                  example: VIEW
                                dateRange:
                                  type: object
                                  nullable: false
                                  required:
                                    - from
                                    - to
                                  properties:
                                    from:
                                      type: string
                                      format: date-time
                                      nullable: false
                                      example: "2021-09-28T12:30:08.573Z"
                                      description: Should be UTC date time in ISO format
                                    to:
                                      type: string
                                      format: date-time
                                      nullable: false
                                      example: "2021-09-28T12:30:08.573Z"
                                      description: Should be UTC date time in ISO format
                                dataEraseAt:
                                  type: string
                                  format: date-time
                                  nullable: false
                                  example: "2021-09-28T12:30:08.573Z"
                                  description: >-
                                    The date at which the consent expire. Should
                                    be UTC date time in ISO format
                                frequency:
                                  type: object
                                  nullable: false
                                  required:
                                    - unit
                                    - value
                                    - repeats
                                  properties:
                                    unit:
                                      type: string
                                      nullable: false
                                      enum:
                                        - HOUR
                                        - DAY
                                        - WEEK
                                        - MONTH
                                        - YEAR
                                    value:
                                      type: number
                                      format: int32
                                      nullable: false
                                      example: 1
                                      description: >-
                                        The frequency unit value. Should be be a
                                        integer
                                    repeats:
                                      type: number
                                      format: int32
                                      nullable: true
                                      example: 0
                                      description: Should be be a integer
                  subscriptions:
                    type: object
                    required:
                      - limit
                      - size
                      - offset
                      - requests
                    properties:
                      limit:
                        type: integer
                        format: integer
                        nullable: true
                        example: 5
                      size:
                        type: integer
                        format: integer
                        nullable: true
                        example: 0
                      offset:
                        type: integer
                        format: integer
                        nullable: true
                        example: 5
                      requests:
                        type: array
                        items:
                          type: object
                          required:
                            - requestId
                          properties:
                            id:
                              type: string
                              format: int64
                              nullable: false
                              example: 1234
                            requestId:
                              type: string
                              format: uuid
                              nullable: false
                              minimum: 36
                              maximum: 50
                              example: f29f0e59-8388-4698-9fe6-05db67aeac46
                            subscriptionId:
                              type: string
                              format: uuid
                              nullable: false
                              minimum: 36
                              maximum: 50
                              example: f29f0e59-8388-4698-9fe6-05db67aeac46
                            patient:
                              type: object
                              nullable: false
                              required:
                                - id
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: radhikha@sbx
                                  description: >-
                                    The abha address of the patient. Must start
                                    with Alphanumeric . and  _  in the middle
                                    and must be ending with @abdm or @sbx
                            purpose:
                              type: object
                              nullable: false
                              required:
                                - text
                                - code
                                - refUri
                              properties:
                                text:
                                  type: string
                                  nullable: false
                                  enum:
                                    - Care Management
                                    - Break the Glass
                                    - Public Health
                                    - Healthcare Payment
                                    - Disease Specific Healthcare Research
                                    - Self Requested
                                  example: Care Management
                                code:
                                  type: string
                                  nullable: false
                                  enum:
                                    - CAREMGT
                                    - BTG
                                    - PUBHLTH
                                    - HPAYMT
                                    - DSRCH
                                    - PATRQT
                                  example: CAREMGT
                                refUri:
                                  type: string
                                  format: uri
                                  nullable: false
                                  example: https://abc.def.in
                                  description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                            hiu:
                              type: object
                              nullable: false
                              required:
                                - id
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: INDIA_HIU
                                  description: >-
                                    The service ID of the health information
                                    user. Must be Alpha numeric and _ or - in
                                    middle
                                name:
                                  type: string
                                  nullable: true
                                  example: INDIA HIU
                                  description: >-
                                    The name of the health information user.
                                    Allows alphanumeric characters and special
                                    characters like _\-@,. ":
                                type:
                                  type: string
                                  nullable: true
                                  example: HIU
                                  description: >-
                                    The type of the health information user.
                                    Allows alphanumeric characters and special
                                    characters like _\-@,. ":
                            hips:
                              type: array
                              items:
                                type: object
                                required:
                                  - id
                                properties:
                                  id:
                                    type: string
                                    nullable: false
                                    example: INDIA_HIP
                                    description: >-
                                      The service ID of the health information
                                      provider. Must be Alpha numeric and _ or -
                                      in middle
                                  name:
                                    type: string
                                    nullable: true
                                    example: INDIA HIP
                                    description: >-
                                      The name of the health information
                                      provider. Allows alphanumeric characters
                                      and special characters like _\-@,. ":
                                  type:
                                    type: string
                                    nullable: true
                                    example: HIP
                                    description: >-
                                      The type of the health information
                                      provider. Allows alphanumeric characters
                                      and special characters like _\-@,. ":
                            categories:
                              type: array
                              items:
                                type: string
                                enum:
                                  - LINK
                                  - DATA
                                nullable: false
                                example: LINK
                            period:
                              type: object
                              nullable: false
                              required:
                                - from
                                - to
                              properties:
                                from:
                                  type: string
                                  format: iso-date-time
                                  nullable: false
                                  example: "2024-05-09T10:34:00.389Z"
                                  description: UTC date time in ISO format
                                to:
                                  type: string
                                  format: iso-date-time
                                  nullable: false
                                  example: "2024-05-09T10:34:00.389Z"
                                  description: UTC date time in ISO format
                            createdAt:
                              type: string
                              format: date time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                            lastUpdated:
                              type: string
                              format: date time
                              nullable: false
                              example: "2024-05-09T10:34:00.389Z"
                            status:
                              type: string
                              enum:
                                - REQUESTED
                                - GRANTED
                                - DENIED
                                - EXPIRED
                                - REVOKED
                              nullable: false
                              example: GRANTED
                            requestType:
                              type: string
                              enum:
                                - HEALTH_LOCKER
                                - HIU
                                - HIP
                              nullable: false
                              example: HEALTH_LOCKER
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/patients/lockers/{lockerId}:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 11
      summary: >-
        This API will be invoked to get health locker settings of a patient by
        locker id.
      description: >-
        This API endpoint is used to retrieve the health locker settings of a
        patient using the locker ID. By invoking this API, users can access
        detailed information about the configuration and preferences of the
        patient’s health locker. This functionality is essential for managing
        and customizing the storage and access settings of health records,
        ensuring that patients have control over their health information. The
        API supports secure and efficient retrieval of health locker settings,
        enhancing the overall management of health data within the healthcare
        ecosystem.
      security:
        - bearerAuth: []

      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for tracking the end-to-end request transaction

        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds, and milliseconds

        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended

        - name: X-AUTH-TOKEN
          in: header
          required: true
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
          example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
          description: JWT Authentication token issued by ABDM after successful validation of username and password

        - name: lockerId
          in: path
          required: true
          schema:
            type: string
          description: The locker id
    
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  lockerId:
                    type: string
                    nullable: false
                    example: 1234
                  lockerName:
                    type: string
                    nullable: false
                    example: Locker 1
                  active:
                    type: boolean
                    nullable: false
                    example: true
                  dateCreated:
                    type: string
                    format: date-time
                    nullable: false
                    example: "2021-09-28T12:30:08.573Z"
                  subscriptions:
                    type: array
                    items:
                      type: object
                      required:
                        - subscriptionId
                        - purpose
                        - status
                        - dateCreated
                        - dateGranted
                        - patient
                        - requester
                        - includedSources
                      properties:
                        subscriptionId:
                          type: string
                          format: uuid
                          nullable: false
                          minimum: 36
                          maximum: 50
                          example: f29f0e59-8388-4698-9fe6-05db67aeac46
                        purpose:
                          type: object
                          nullable: false
                          required:
                            - text
                            - code
                            - refUri
                          properties:
                            text:
                              type: string
                              nullable: false
                              enum:
                                - Care Management
                                - Break the Glass
                                - Public Health
                                - Healthcare Payment
                                - Disease Specific Healthcare Research
                                - Self Requested
                              example: Care Management
                            code:
                              type: string
                              nullable: false
                              enum:
                                - CAREMGT
                                - BTG
                                - PUBHLTH
                                - HPAYMT
                                - DSRCH
                                - PATRQT
                              example: CAREMGT
                            refUri:
                              type: string
                              format: uri
                              nullable: false
                              example: https://abc.def.in
                              description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                        status:
                          type: string
                          enum:
                            - REQUESTED
                            - GRANTED
                            - DENIED
                            - EXPIRED
                            - REVOKED
                          nullable: false
                          example: GRANTED
                        dateCreated:
                          type: string
                          format: iso-date-time
                          nullable: false
                          example: "2021-09-28T12:30:08.573Z"
                        dateGranted:
                          type: string
                          format: iso-date-time
                          nullable: false
                          example: "2021-09-28T12:30:08.573Z"
                        patient:
                          type: object
                          nullable: false
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: radhikha@sbx
                              description: >-
                                The abha address of the patient. Must start with
                                Alphanumeric . and  _  in the middle and must be
                                ending with @abdm or @sbx
                        requester:
                          type: object
                          nullable: false
                          required:
                            - id
                            - name
                            - type
                          properties:
                            id:
                              type: string
                              nullable: false
                              example: radhikha@sbx
                            name:
                              type: string
                              nullable: false
                              example: ABDM_HIU
                            type:
                              type: string
                              nullable: false
                              example: HIU
                        includedSources:
                          type: array
                          items:
                            type: object
                            required:
                              - hiTypes
                              - purpose
                              - hip
                              - categories
                              - period
                            properties:
                              hiTypes:
                                type: array
                                items:
                                  type: string
                                  enum:
                                    - Prescription
                                    - DiagnosticReport
                                    - OPConsultation
                                    - DischargeSummary
                                    - ImmunizationRecord
                                    - HealthDocumentRecord
                                    - WellnessRecord
                                    - Invoice
                                  nullable: false
                                  example: "Prescription"
                              purpose:
                                type: object
                                nullable: false
                                required:
                                  - text
                                  - code
                                  - refUri
                                properties:
                                  text:
                                    type: string
                                    nullable: false
                                    enum:
                                      - Care Management
                                      - Break the Glass
                                      - Public Health
                                      - Healthcare Payment
                                      - Disease Specific Healthcare Research
                                      - Self Requested
                                    example: Care Management
                                  code:
                                    type: string
                                    nullable: false
                                    enum:
                                      - CAREMGT
                                      - BTG
                                      - PUBHLTH
                                      - HPAYMT
                                      - DSRCH
                                      - PATRQT
                                    example: CAREMGT
                                  refUri:
                                    type: string
                                    format: uri
                                    nullable: false
                                    example: https://abc.def.in
                                    description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                              hip:
                                type: object
                                nullable: false
                                required:
                                  - id
                                  - name
                                properties:
                                  id:
                                    type: string
                                    nullable: false
                                    example: INDIA_HIP
                                    description: >-
                                      The service ID of the health information
                                      provider. Must be Alpha numeric and _ or -
                                      in middle
                                  name:
                                    type: string
                                    nullable: true
                                    example: INDIA HIP
                                    description: >-
                                      The name of the health information
                                      provider. Allows alphanumeric characters
                                      and special characters like _\-@,. ":
                                  type:
                                    type: string
                                    nullable: true
                                    example: HIP
                                    description: >-
                                      The type of the health information
                                      provider. Allows alphanumeric characters
                                      and special characters like _\-@,. ":
                              categories:
                                type: array
                                items:
                                  type: string
                                  enum:
                                    - LINK
                                    - DATA
                                  nullable: false
                                  example: LINK
                                  description: >-
                                    The subscription category. Should be either
                                    LINK or DATA
                              period:
                                type: object
                                nullable: false
                                description: >-
                                  The date range between when the subscription
                                  will be active
                                required:
                                  - from
                                  - to
                                properties:
                                  from:
                                    type: string
                                    format: iso-date-time
                                    nullable: false
                                    example: "2024-05-09T10:34:00.389Z"
                                    description: UTC date time in ISO format
                                  to:
                                    type: string
                                    format: iso-date-time
                                    nullable: false
                                    example: "2024-05-09T10:34:00.389Z"
                                    description: UTC date time in ISO format
                              status:
                                type: string
                                nullable: true
                                example: SUCCESS
                                description: The status of the subscription approval
                  autoApprovals:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          format: int64
                          nullable: false
                          example: 1234
                        autoApprovalId:
                          type: string
                          nullable: false
                          example: e5ec415f-c098-40f6-a0db-faa162fc5295
                        hiuId:
                          type: string
                          nullable: false
                          example: India_HIU
                        patientId:
                          type: string
                          nullable: false
                          example: sample@sbx
                        isActive:
                          type: boolean
                          nullable: false
                          example: false
                        dateCreated:
                          type: string
                          format: date-time
                          nullable: false
                          example: "2021-09-28T12:30:08.573Z"
                        dateModified:
                          type: string
                          format: date-time
                          nullable: false
                          example: "2021-09-28T12:30:08.573Z"
                        policy:
                          type: object
                          required:
                            - isApplicableForAllHIPs
                            - hiu
                            - includedSources
                            - excludedSources
                          properties:
                            isApplicableForAllHIPs:
                              type: boolean
                              nullable: false
                              example: true
                            hiu:
                              type: object
                              required:
                                - id
                              properties:
                                id:
                                  type: string
                                  nullable: false
                                  example: INDIA_HIU
                                  description: >-
                                    The service ID of the health information
                                    user. Must be Alpha numeric and _ or - in
                                    middle
                                name:
                                  type: string
                                  nullable: true
                                  example: INDIA HIU
                                  description: >-
                                    The name of the health information user.
                                    Allows alphanumeric characters and special
                                    characters like _\-@,. ":
                                type:
                                  type: string
                                  nullable: true
                                  example: HIU
                                  description: >-
                                    The type of the health information user.
                                    Allows alphanumeric characters and special
                                    characters like _\-@,. ":
                            includedSources:
                              type: array
                              items:
                                type: object
                                required:
                                  - hiTypes
                                  - purpose
                                  - hip
                                  - categories
                                  - period
                                properties:
                                  hiTypes:
                                    type: array
                                    items:
                                      type: string
                                      enum:
                                        - Prescription
                                        - DiagnosticReport
                                        - OPConsultation
                                        - DischargeSummary
                                        - ImmunizationRecord
                                        - HealthDocumentRecord
                                        - WellnessRecord
                                        - Invoice
                                      nullable: false
                                      example: "Prescription"
                                  purpose:
                                    type: object
                                    nullable: false
                                    required:
                                      - text
                                      - code
                                      - refUri
                                    properties:
                                      text:
                                        type: string
                                        nullable: false
                                        enum:
                                          - Care Management
                                          - Break the Glass
                                          - Public Health
                                          - Healthcare Payment
                                          - Disease Specific Healthcare Research
                                          - Self Requested
                                        example: Care Management
                                      code:
                                        type: string
                                        nullable: false
                                        enum:
                                          - CAREMGT
                                          - BTG
                                          - PUBHLTH
                                          - HPAYMT
                                          - DSRCH
                                          - PATRQT
                                        example: CAREMGT
                                      refUri:
                                        type: string
                                        format: uri
                                        nullable: false
                                        example: https://abc.def.in
                                        description: The reference URL.Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                                  hip:
                                    type: object
                                    nullable: false
                                    required:
                                      - id
                                      - name
                                    properties:
                                      id:
                                        type: string
                                        nullable: false
                                        example: INDIA_HIP
                                        description: >-
                                          The service ID of the health information
                                          provider. Must be Alpha numeric and _ or
                                          - in middle
                                      name:
                                        type: string
                                        nullable: true
                                        example: INDIA HIP
                                        description: >-
                                          The name of the health information
                                          provider. Allows alphanumeric characters
                                          and special characters like _\-@,. ":
                                      type:
                                        type: string
                                        nullable: true
                                        example: HIP
                                        description: >-
                                          The type of the health information
                                          provider. Allows alphanumeric characters
                                          and special characters like _\-@,. ":
                                  categories:
                                    type: array
                                    items:
                                      type: string
                                      enum:
                                        - LINK
                                        - DATA
                                      nullable: false
                                      example: LINK
                                      description: >-
                                        The subscription category. Should be
                                        either LINK or DATA
                                  period:
                                    type: object
                                    nullable: false
                                    description: >-
                                      The date range between when the
                                      subscription will be active
                                    required:
                                      - from
                                      - to
                                    properties:
                                      from:
                                        type: string
                                        format: iso-date-time
                                        nullable: false
                                        example: "2024-05-09T10:34:00.389Z"
                                        description: UTC date time in ISO format
                                      to:
                                        type: string
                                        format: iso-date-time
                                        nullable: false
                                        example: "2024-05-09T10:34:00.389Z"
                                        description: UTC date time in ISO format
                                  status:
                                    type: string
                                    nullable: true
                                    example: SUCCESS
                                    description: The status of the subscription approval
                            excludedSources:
                              type: array
                              items:
                                type: object
                                required:
                                  - hiTypes
                                  - purpose
                                  - hip
                                  - categories
                                  - period
                                properties:
                                  hiTypes:
                                    type: array
                                    items:
                                      type: string
                                      enum:
                                        - Prescription
                                        - DiagnosticReport
                                        - OPConsultation
                                        - DischargeSummary
                                        - ImmunizationRecord
                                        - HealthDocumentRecord
                                        - WellnessRecord
                                        - Invoice
                                      nullable: false
                                      example: "Prescription"
                                  purpose:
                                    type: object
                                    nullable: false
                                    required:
                                      - text
                                      - code
                                      - refUri
                                    properties:
                                      text:
                                        type: string
                                        nullable: false
                                        enum:
                                          - Care Management
                                          - Break the Glass
                                          - Public Health
                                          - Healthcare Payment
                                          - Disease Specific Healthcare Research
                                          - Self Requested
                                        example: Care Management
                                      code:
                                        type: string
                                        nullable: false
                                        enum:
                                          - CAREMGT
                                          - BTG
                                          - PUBHLTH
                                          - HPAYMT
                                          - DSRCH
                                          - PATRQT
                                        example: CAREMGT
                                      refUri:
                                        type: string
                                        format: uri
                                        nullable: false
                                        example: https://abc.def.in
                                        description: The reference URL. Allows alpha numeric character and special characters like "^[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"
                                  hip:
                                    type: object
                                    nullable: false
                                    required:
                                      - id
                                      - name
                                    properties:
                                      id:
                                        type: string
                                        nullable: false
                                        example: INDIA_HIP
                                        description: >-
                                          The service ID of the health information
                                          provider. Must be Alpha numeric and _ or
                                          - in middle
                                      name:
                                        type: string
                                        nullable: true
                                        example: INDIA HIP
                                        description: >-
                                          The name of the health information
                                          provider. Allows alphanumeric characters
                                          and special characters like _\-@,. ":
                                      type:
                                        type: string
                                        nullable: true
                                        example: HIP
                                        description: >-
                                          The type of the health information
                                          provider. Allows alphanumeric characters
                                          and special characters like _\-@,. ":
                                  categories:
                                    type: array
                                    items:
                                      type: string
                                      enum:
                                        - LINK
                                        - DATA
                                      nullable: false
                                      example: LINK
                                      description: >-
                                        The subscription category. Should be
                                        either LINK or DATA
                                  period:
                                    type: object
                                    nullable: false
                                    description: >-
                                      The date range between when the
                                      subscription will be active
                                    required:
                                      - from
                                      - to
                                    properties:
                                      from:
                                        type: string
                                        format: iso-date-time
                                        nullable: false
                                        example: "2024-05-09T10:34:00.389Z"
                                        description: UTC date time in ISO format
                                      to:
                                        type: string
                                        format: iso-date-time
                                        nullable: false
                                        example: "2024-05-09T10:34:00.389Z"
                                        description: UTC date time in ISO format
                                  status:
                                    type: string
                                    nullable: true
                                    example: SUCCESS
                                    description: The status of the subscription approval
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plai:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
  /api/hiecm/subscription-requests/v3/patients/lockers:
    get:
      tags:
        - subscription-phr
      operationId: subscription-phr 12
      summary: >-
        The API provides the list of health locker that the ABHA address is subscribed to.
      description: >-
        This endpoint retrieves a list of health lockers associated with a given ABHA address. 
        It includes both active and inactive subscriptions based on the `includeInactive` parameter.
      security:
        - bearerAuth: []

      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for tracking the end-to-end request transaction

        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds, and milliseconds

        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended

        - name: X-AUTH-TOKEN
          in: header
          required: true
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
          example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
          description: JWT Authentication token issued by ABDM after successful validation of username and password

        - name: includeInactive
          in: path
          required: true
          schema:
            type: string
            example: true
          description: Indicates whether to include inactive records
     
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      nullable: false
                      example: 212
                    lockerId:
                      type: string
                      nullable: false
                      example: "HIU_V3"
                    lockerName:
                      type: string
                      nullable: false
                      example: HIU_V3
                    patientId:
                      type: string
                      nullable: false
                      example: sample@sbx
                      decription: abha address of the patient.Allows alpha numeric character and special characters like ^[a-zA-Z0-9][a-zA-Z0-9_.\\-!]+[a-zA-Z0-9]@(abdm|sbx)$
                    dateCreated:
                      type: string
                      nullable: false
                      example: "2024-03-15T01:49:16.316Z"
                      description:
                        Should be UTC date time in ISO format. Allows alpha numeric character and special
                        characters like "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                    dateModified:
                      type: string
                      nullable: false
                      example: "2024-03-120T01:49:16.316Z"
                      description:
                        Should be UTC date time in ISO format. Allows alpha numeric character and special
                        characters like "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$"
                    isActive:
                      type: boolean
                      nullable: false
                      example: true

  /api/hiecm/subscription-requests/v3/setup-locker:
    post:
      tags:
        - health-locker
      operationId: health-locker 1
      summary: This API will be invoked to setup health locker for a patient.
      description: >-
        This API endpoint is used to set up a health locker for a patient. By
        invoking this API, users can configure a secure storage space for the
        patient’s health records, ensuring that all health information is
        organized and easily accessible. This functionality is essential for
        managing and safeguarding health data, providing patients with a
        centralized location for their medical documents.
      security:
        - bearerAuth: []

      parameters:
        - name: REQUEST-ID
          in: header
          required: true
          schema:
            type: string
          example: '18235d89-cb13-479d-ad71-7a57d5f669a8'
          description: Unique UUID for tracking the end-to-end request transaction

        - name: TIMESTAMP
          in: header
          required: true
          schema:
            type: string
          example: '2022-10-06T15:10:00.587Z'
          description: >-
            Actual time of the request was initiated, ISO 8601 represents date and
            time by starting with the year, followed by the month, the day, the
            hour, the minutes, seconds, and milliseconds

        - name: X-CM-ID
          in: header
          required: true
          schema:
            type: string
          example: sbx
          description: Suffix of the consent manager to which the request was intended

        - name: X-AUTH-TOKEN
          in: header
          required: true
          schema:
            type: string
            format: bearer
            minimum: 1
            maximum: 100
          example: eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2
          description: JWT Authentication token issued by ABDM after successful validation of username and password

        - name: X-LOCKER-ID
          in: header
          required: true
          schema:
            type: string
          description: The locker id
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  consentAutoApprovalId:
                    type: string
                    nullable: false
                    example: e5ec415f-c098-40f6-a0db-faa162fc5295
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    required:
                      - code
                      - message
                    properties:
                      code:
                        type: string
                        example: "ABDM-1066: "
                      message:
                        type: string
                        example: Invalid JWT token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "900901"
                  message:
                    type: string
                    example: Invalid Credentials
                  description:
                    type: string
                    example: >-
                      Invalid Credentials. Make sure you have provided the
                      correct security credentials
        "403":
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Access Denied
        "404":
          description: server cannot find the requested resource
        "500":
          description: >-
            Internal Server Error -> It is just one example, for every api the
            path will be changed.
          content:
            application/json:
              schema:
                type: object
                required:
                  - timestamp
                  - path
                  - status
                  - error
                  - requestId
                properties:
                  timestamp:
                    type: number
                    example: 1731557446506
                  path:
                    type: string
                    example: /hiecm/api/v3/subscription-requests/init
                  status:
                    type: integer
                    example: 500
                  error:
                    type: string
                    example: " Internal Server Error"
                  requestId:
                    type: string
                    example: d20b575b-2659
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                properties:
                  code:
                    type: string
                    nullable: false
                    example: ABDM-1024
                  message:
                    type: string
                    nullable: false
                    example: Dependent service unavailable
